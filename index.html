<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Unsung Legend of Christopher Shreve AKA Tekken</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom font for a more 'divine' feel */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* Light blue-gray background */
            position: relative;
            overflow-x: hidden; /* Prevent horizontal scrollbar from floating image */
        }

        /* Styles for the floating image */
        #floating-cursor-image {
            position: absolute;
            pointer-events: none;
            transform: translate(-50%, -50%);
            transition: transform 0.1s ease-out;
            z-index: 9999;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            box-shadow: 0 0 15px rgba(255, 255, 0, 0.7);
            animation: pulse-glow 2s infinite alternate;
        }

        @keyframes pulse-glow {
            from { box-shadow: 0 0 10px rgba(255, 255, 0, 0.5); }
            to { box-shadow: 0 0 20px rgba(255, 255, 0, 0.9); }
        }

        /* Styles for the image modal/lightbox */
        #image-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
        }

        #image-modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        #image-modal-content {
            position: relative;
            max-width: 90%;
            max-height: 90%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        #modal-image {
            max-width: 100%;
            max-height: 85vh;
            object-fit: contain;
            border-radius: 8px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
        }

        #modal-caption {
            color: white;
            margin-top: 10px;
            font-size: 1.1rem;
            text-align: center;
        }

        #modal-close-button {
            position: absolute;
            top: 10px;
            right: 10px;
            background: none;
            border: none;
            font-size: 2rem;
            color: white;
            cursor: pointer;
            padding: 5px 10px;
            border-radius: 50%;
            transition: background-color 0.2s ease-in-out;
            z-index: 10001;
        }

        #modal-close-button:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        /* Styles for the Info Modal */
        #info-modal-overlay {
            position: fixed;
            inset: 0;
            background-color: rgba(0, 0, 0, 0.75);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10001;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
        }

        #info-modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        #info-modal-content {
            background-color: white;
            padding: 1.5rem;
            border-radius: 0.5rem;
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1), 0 4px 6px rgba(0, 0, 0, 0.05);
            max-width: 32rem; /* approx 512px */
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        #info-modal-close-button {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background: none;
            border: none;
            font-size: 2rem;
            color: #4a5568; /* gray-700 */
            cursor: pointer;
            padding: 0.3125rem 0.625rem;
            border-radius: 50%;
            transition: background-color 0.2s ease-in-out;
            line-height: 1;
        }

        #info-modal-close-button:hover {
            background-color: rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body class="text-gray-800 antialiased">

    <div id="floating-cursor-image" class="hidden md:block">
        <img src="https://i.imgur.com/WhMRCcm.png" alt="Floating icon" class="w-full h-full object-cover rounded-full">
    </div>

    <header class="relative bg-gradient-to-r from-gray-600 to-red-800 text-white py-16 px-4 md:px-8 overflow-hidden rounded-b-lg shadow-xl">
        <div class="container mx-auto flex flex-col md:flex-row items-center justify-between z-10 relative">
            <div class="text-center md:text-left mb-8 md:mb-0">
                <h1 class="text-4xl md:text-6xl font-extrabold mb-4 leading-tight rounded-lg p-2 bg-black bg-opacity-20 inline-block">
                    Behold! The Legend of <span class="text-red-300">Christopher Shreve AKA Tekken</span>
                </h1>
                <p class="text-lg md:text-xl opacity-90">
                    Welcome, fellow enthusiasts, to the official fan club page dedicated to the one and only Tekken! Join us in celebrating his everyday, relatable triumphs and bewildering blunders.
                </p>
            </div>
            <div id="main-image-container" class="w-48 h-48 md:w-64 md:h-64 flex-shrink-0 rounded-full overflow-hidden border-4 border-red-300 shadow-2xl transition duration-500 transform hover:scale-105 cursor-pointer">
                <img src="https://i.imgur.com/iTnsO02.png" alt="The Unsung Hero Christopher Shreve AKA Tekken" class="object-cover w-full h-full">
            </div>
        </div>
        <div class="absolute inset-0 bg-white opacity-5 blur-3xl animate-pulse"></div>
    </header>

    <section id="quotes" class="py-16 px-4 md:px-8 bg-white rounded-lg shadow-md mx-auto my-8 max-w-5xl">
        <div class="container mx-auto">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-10 text-gray-700">Moments of Pure Tekken</h2>
            <div id="quote-display" class="bg-gradient-to-br from-yellow-100 to-orange-100 p-8 rounded-xl shadow-2xl border-2 border-orange-300 text-center relative overflow-hidden flex items-center justify-center" style="min-height: 400px;">
                <img id="quote-image" src="" alt="Tekken Moment" class="w-full h-full object-contain rounded-lg transition-opacity duration-700 ease-in-out opacity-0">
            </div>
        </div>
    </section>

    <section id="gallery" class="py-16 px-4 md:px-8 bg-gray-100 rounded-lg shadow-md mx-auto my-8 max-w-6xl">
        <div class="container mx-auto">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-10 text-gray-700">Moments of Questionable Glory</h2>
            <div id="image-gallery-container" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6">
                </div>
        </div>
    </section>

    <footer class="bg-gray-900 text-white py-8 px-4 md:px-8 text-center rounded-t-lg shadow-inner">
        <p class="text-lg mb-4">
            He did what this time? Immortalize the chaos send it in.
        </p>
        <button id="contribute-button" class="inline-block bg-green-500 text-white font-bold py-3 px-8 rounded-full shadow-lg hover:bg-green-400 transition duration-300 transform hover:scale-105">
            Discord: jlaiii
        </button>
        <p class="text-sm opacity-70 mt-4">
            &copy; 2025 The Fan Club of Christopher Shreve AKA Tekken. Probably not all rights reserved, he wouldn't care.
        </p>
        </footer>

    <div id="image-modal-overlay" class="image-modal-overlay">
        <div id="image-modal-content">
            <button id="modal-close-button">&times;</button>
            <img id="modal-image" src="" alt="">
            <p id="modal-caption"></p>
        </div>
    </div>

    <div id="info-modal-overlay" class="fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center z-[10001] opacity-0 invisible transition-opacity duration-300">
        <div id="info-modal-content" class="bg-white p-6 rounded-lg shadow-xl max-w-lg w-11/12 max-h-[90vh] overflow-y-auto relative">
            <button id="info-modal-close-button" class="absolute top-2 right-2 text-gray-600 hover:text-gray-900 text-3xl leading-none">&times;</button>
            <h3 class="text-2xl font-bold mb-4 text-gray-800">Information</h3>
            <div id="info-content" class="text-gray-700 text-base leading-relaxed">
                Loading information...
            </div>
        </div>
    </div>

    <script>
        // --- Floating Cursor Image Management ---
        const floatingImage = document.getElementById('floating-cursor-image');

        document.addEventListener('mousemove', (e) => {
            floatingImage.style.left = `${e.clientX + window.scrollX}px`;
            floatingImage.style.top = `${e.clientY + window.scrollY}px`;
        });

        // --- Quotes Management (now image slideshow) ---
        const quoteImage = document.getElementById('quote-image');
        let slideshowImages = []; // Will be populated with image URLs
        let currentSlideshowIndex = 0; // To keep track of the current image

        /**
         * Fetches image URLs for the slideshow from a text file.
         * Assumes the text file is named 'quotes.txt' (can rename if desired)
         * Each line should be a direct URL to an image.
         */
        async function fetchSlideshowImages() {
            try {
                const response = await fetch('quotes.txt'); // Using quotes.txt as the source
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const text = await response.text();
                slideshowImages = text.split('\n')
                    .map(line => line.trim())
                    .filter(line => line.length > 0); // Only include non-empty lines

                if (slideshowImages.length > 0) {
                    displayNextSlideshowImage(true); // Display the first image immediately
                    setInterval(displayNextSlideshowImage, 7000); // Cycle every 7 seconds
                } else {
                    quoteImage.style.opacity = '1';
                    quoteImage.src = "https://placehold.co/600x400/cccccc/333333?text=No+Images+Yet"; // Placeholder
                    quoteImage.alt = "No images available";
                }
            } catch (error) {
                console.error('Error fetching slideshow images:', error);
                quoteImage.style.opacity = '1';
                quoteImage.src = "https://placehold.co/600x400/cccccc/333333?text=Error+Loading+Images"; // Placeholder
                quoteImage.alt = "Error loading images";
            }
        }

        /**
         * Displays the next image in the slideshow with fade effect.
         * @param {boolean} initialLoad - True if it's the first image being displayed.
         */
        function displayNextSlideshowImage(initialLoad = false) {
            if (slideshowImages.length === 0) return;

            // Fade out current image
            quoteImage.style.opacity = '0';

            // Wait for fade out, then change content and fade in
            setTimeout(() => {
                const imageUrl = slideshowImages[currentSlideshowIndex];

                // Update image source and alt text
                quoteImage.src = imageUrl;
                quoteImage.alt = `Tekken Moment ${currentSlideshowIndex + 1}`; // Generic alt text for cycling images

                // Fallback for image loading errors
                quoteImage.onerror = function() {
                    this.src = `https://placehold.co/${this.width || 600}x${this.height || 400}/cccccc/333333?text=Image+Error`;
                    this.alt = "Slideshow image failed to load";
                    console.error("Failed to load slideshow image:", imageUrl);
                };

                // Fade in new image
                quoteImage.style.opacity = '1';

                currentSlideshowIndex = (currentSlideshowIndex + 1) % slideshowImages.length;
            }, 700); // This delay should match your CSS transition duration for a smooth fade.
        }

        // --- Image Gallery Management ---
        const galleryContainer = document.getElementById('image-gallery-container');
        let gloriousImages = []; // Will be populated from the text file

        /**
         * Fetches image data from a text file and loads them into the gallery.
         * Assumes the text file is named 'images.txt' in the same directory.
         * Each line should be formatted as: imageUrl|caption
         */
        async function fetchImages() {
            try {
                const response = await fetch('images.txt');
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const text = await response.text();
                // Parse each line into an image object
                gloriousImages = text.split('\n')
                    .map(line => line.trim())
                    .filter(line => line.length > 0)
                    .map(line => {
                        const parts = line.split('|');
                        return {
                            src: parts[0] ? parts[0].trim() : '',
                            alt: parts[1] ? parts[1].trim() : 'Tekken moment', // Default alt
                            caption: parts[1] ? parts[1].trim() : 'A moment of questionable glory.' // Default caption
                        };
                    })
                    .filter(img => img.src); // Only include if src is present

                loadAllImages(); // Load images into the DOM after fetching
            } catch (error) {
                console.error('Error fetching images:', error);
                galleryContainer.innerHTML = '<p class="text-center text-red-500">Failed to load images. Please check "images.txt".</p>';
            }
        }

        /**
         * Loads all images from the `gloriousImages` array into the gallery.
         */
        function loadAllImages() {
            galleryContainer.innerHTML = ''; // Clear existing images to prevent duplicates on reload
            gloriousImages.forEach(image => {
                const imageWrapper = document.createElement('div');
                imageWrapper.className = 'bg-white p-2 rounded-xl shadow-md transform hover:scale-105 transition duration-300 cursor-pointer';

                const imgElement = document.createElement('img');
                imgElement.src = image.src;
                imgElement.alt = image.alt;
                imgElement.className = 'w-full h-auto rounded-lg mb-2 object-cover';
                // Fallback for image loading errors
                imgElement.onerror = function() {
                    this.src = `https://placehold.co/${this.width || 300}x${this.height || 200}/cccccc/333333?text=Image+Error`;
                    this.alt = "Image failed to load";
                    console.error("Failed to load image:", image.src);
                };

                const captionElement = document.createElement('p');
                captionElement.className = 'text-sm text-center text-gray-600';
                captionElement.textContent = image.caption;

                imageWrapper.appendChild(imgElement);
                imageWrapper.appendChild(captionElement);
                galleryContainer.appendChild(imageWrapper);

                // Add click listener to open modal
                imageWrapper.addEventListener('click', () => {
                    openImageModal(image.src, image.alt, image.caption);
                });
            });
        }

        // --- Image Modal Logic ---
        const imageModalOverlay = document.getElementById('image-modal-overlay');
        const modalImage = document.getElementById('modal-image');
        const modalCaption = document.getElementById('modal-caption');
        const modalCloseButton = document.getElementById('modal-close-button');

        /**
         * Opens the full-screen image modal.
         * @param {string} src - The URL of the image to display.
         * @param {string} alt - The alt text for the image.
         * @param {string} caption - The caption to display below the image.
         */
        function openImageModal(src, alt, caption) {
            modalImage.src = src;
            modalImage.alt = alt;
            modalCaption.textContent = caption;
            imageModalOverlay.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        /**
         * Closes the full-screen image modal.
         */
        function closeImageModal() {
            imageModalOverlay.classList.remove('active');
            document.body.style.overflow = '';
            modalImage.src = '';
            modalCaption.textContent = '';
        }

        // Event listeners for closing the modal
        modalCloseButton.addEventListener('click', closeImageModal);
        imageModalOverlay.addEventListener('click', (e) => {
            if (e.target === imageModalOverlay) {
                closeImageModal();
            }
        });
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && imageModalOverlay.classList.contains('active')) {
                closeImageModal();
            }
        });

        // --- Contribute Button Logic ---
        const contributeButton = document.getElementById('contribute-button');
        if (contributeButton) {
            contributeButton.addEventListener('click', () => {
                window.open('https://discord.com/invite/INCELS', '_blank'); // Opens in a new tab
            });
        }

        // --- Info Button and Modal Logic (repurposed for main image click) ---
        const mainImageContainer = document.getElementById('main-image-container'); // Get the main image container
        const infoModalOverlay = document.getElementById('info-modal-overlay');
        const infoModalCloseButton = document.getElementById('info-modal-close-button');
        const infoContent = document.getElementById('info-content');

        // Event listener for clicking the main image
        if (mainImageContainer) {
            mainImageContainer.addEventListener('click', () => {
                openInfoModal();
            });
        }

        if (infoModalCloseButton) {
            infoModalCloseButton.addEventListener('click', () => {
                closeInfoModal();
            });
        }

        if (infoModalOverlay) {
            infoModalOverlay.addEventListener('click', (e) => {
                if (e.target === infoModalOverlay) {
                    closeInfoModal();
                }
            });
        }

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && infoModalOverlay.classList.contains('active')) {
                closeInfoModal();
            }
        });


        /**
         * Opens the info modal and fetches content from info.txt.
         */
        async function openInfoModal() {
            infoModalOverlay.classList.add('active');
            infoModalOverlay.style.opacity = '1';
            infoModalOverlay.style.visibility = 'visible';
            document.body.style.overflow = 'hidden'; // Prevent scrolling body when modal is open

            try {
                const response = await fetch('info.txt');
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const text = await response.text();
                infoContent.textContent = text;
            } catch (error) {
                console.error('Error fetching info.txt:', error);
                infoContent.textContent = "Failed to load information. Please ensure 'info.txt' exists.";
            }
        }

        /**
         * Closes the info modal.
         */
        function closeInfoModal() {
            infoModalOverlay.classList.remove('active');
            infoModalOverlay.style.opacity = '0';
            infoModalOverlay.style.visibility = 'hidden';
            document.body.style.overflow = ''; // Restore body scrolling
            infoContent.textContent = "Loading information..."; // Reset content
        }


        // Initial fetch and load when the DOM is fully loaded
        document.addEventListener('DOMContentLoaded', () => {
            fetchSlideshowImages(); // Call the new function for the slideshow
            fetchImages(); // Keep this for your gallery section
        });
    </script>

</body>
</html>